\hypertarget{_texture_8cpp_source}{}\doxysection{Texture.\+cpp}
\label{_texture_8cpp_source}\index{libs/engine/src/Component/Texture.cpp@{libs/engine/src/Component/Texture.cpp}}
\mbox{\hyperlink{_texture_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00001}00001\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_texture_8h}{engine/include/Component/Texture.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00002}00002\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00003}00003\ }
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00004}00004\ \textcolor{keyword}{using\ }\mbox{\hyperlink{class_engine_1_1_component_1_1_texture}{Engine::Component::Texture}};}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00005}00005\ }
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00006}\mbox{\hyperlink{class_engine_1_1_component_1_1_texture_a46eec279aa73a0440dddfa191710448a}{00006}}\ \mbox{\hyperlink{class_engine_1_1_component_1_1_texture_a46eec279aa73a0440dddfa191710448a}{Texture::Texture}}(std::filesystem::path\ path)}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00007}00007\ \{}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00008}00008\ \ \ \ \ SDL\_Surface*\ image\ =\ IMG\_Load(path.string().c\_str());}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00009}00009\ \ \ \ \ \textcolor{keywordflow}{if}\ (image\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00010}00010\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::logic\_error(std::string(\textcolor{stringliteral}{"{}couldn't\ find\ texture\ file:\ '"{}})\ +\ path.string().c\_str()\ +\ \textcolor{stringliteral}{"{}'"{}});}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00011}00011\ \ \ \ \ load(image);}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00012}00012\ \ \ \ \ SDL\_FreeSurface(image);}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00013}00013\ \}}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00015}00015\ \mbox{\hyperlink{class_engine_1_1_component_1_1_texture_a46eec279aa73a0440dddfa191710448a}{Texture::Texture}}(SDL\_Surface*\ image)}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00016}00016\ \{}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00017}00017\ \ \ \ \ load(image);}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00018}00018\ \}}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00019}00019\ }
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00020}00020\ \mbox{\hyperlink{class_engine_1_1_component_1_1_texture_a46eec279aa73a0440dddfa191710448a}{Texture::Texture}}(GLuint\ \_texture)}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00021}00021\ \{}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00022}00022\ \ \ \ \ texture\ =\ \_texture;}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00023}00023\ \}}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00024}00024\ }
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00025}00025\ \textcolor{keywordtype}{void}\ Texture::load(SDL\_Surface*\ image)}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00026}00026\ \{}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00027}00027\ \ \ \ \ glGenTextures(1,\ \&texture);}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00028}00028\ \ \ \ \ glBindTexture(GL\_TEXTURE\_2D,\ texture);}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00029}00029\ }
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00030}00030\ \ \ \ \ \textcolor{comment}{//\ set\ the\ texture\ wrapping/filtering\ options\ (on\ the\ currently\ bound\ texture\ object)}}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00031}00031\ \ \ \ \ glTexParameteri(GL\_TEXTURE\_2D,\ GL\_TEXTURE\_WRAP\_S,\ GL\_REPEAT);}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00032}00032\ \ \ \ \ glTexParameteri(GL\_TEXTURE\_2D,\ GL\_TEXTURE\_WRAP\_T,\ GL\_REPEAT);}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00033}00033\ \ \ \ \ \textcolor{comment}{//glTexParameteri(GL\_TEXTURE\_2D,\ GL\_TEXTURE\_MIN\_FILTER,\ GL\_LINEAR\_MIPMAP\_LINEAR);}}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00034}00034\ \ \ \ \ \textcolor{comment}{//glTexParameteri(GL\_TEXTURE\_2D,\ GL\_TEXTURE\_MAG\_FILTER,\ GL\_LINEAR);}}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00035}00035\ \ \ \ \ glTexParameteri(GL\_TEXTURE\_2D,\ GL\_TEXTURE\_MAG\_FILTER,\ GL\_NEAREST);}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00036}00036\ }
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00037}00037\ \ \ \ \ \textcolor{comment}{//\ loading\ the\ image\ to\ a\ SDL\_Surface\ with\ the\ correct\ format}}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00038}00038\ \ \ \ \ SDL\_Surface*\ surface\ =\ SDL\_ConvertSurfaceFormat(image,\ SDL\_PIXELFORMAT\_RGBA32,\ 0);}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00040}00040\ \ \ \ \ \textcolor{comment}{//\ generate\ the\ texture}}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00041}00041\ \ \ \ \ glTexImage2D(GL\_TEXTURE\_2D,\ 0,\ GL\_RGBA8,\ surface-\/>w,\ surface-\/>h,\ 0,\ GL\_RGBA,\ GL\_UNSIGNED\_INT\_8\_8\_8\_8\_REV,\ \textcolor{keyword}{reinterpret\_cast<}Uint32*\textcolor{keyword}{>}(surface-\/>pixels));}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00042}00042\ \ \ \ \ glGenerateMipmap(GL\_TEXTURE\_2D);}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00043}00043\ }
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00044}00044\ \ \ \ \ \textcolor{comment}{//\ deleting\ pixels}}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00045}00045\ \ \ \ \ SDL\_FreeSurface(surface);}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00046}00046\ \}}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00047}00047\ }
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00048}\mbox{\hyperlink{class_engine_1_1_component_1_1_texture_a09c4bcb7462f64c1d20fa69dba3cee8a}{00048}}\ \mbox{\hyperlink{class_engine_1_1_component_1_1_texture_a09c4bcb7462f64c1d20fa69dba3cee8a}{Texture::\string~Texture}}()}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00049}00049\ \{}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00050}00050\ \ \ \ \ glDeleteTextures(1,\ \&texture);}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00051}00051\ \}}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00053}\mbox{\hyperlink{class_engine_1_1_component_1_1_texture_a705fcef86410b0cd7f494353e4fc08b0}{00053}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_engine_1_1_component_1_1_texture_a705fcef86410b0cd7f494353e4fc08b0}{Texture::bind}}(GLuint\ texture\_unit)}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00054}00054\ \{}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00055}00055\ \ \ \ \ glActiveTexture(GL\_TEXTURE0\ +\ texture\_unit);}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00056}00056\ \ \ \ \ glBindTexture(GL\_TEXTURE\_2D,\ texture);}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00057}00057\ \}}
\DoxyCodeLine{\Hypertarget{_texture_8cpp_source_l00058}00058\ }

\end{DoxyCode}
